{% extends 'Base.html' %}
{% block content %}
<title>Quản lý</title>
<div class="container mx-auto mt-8 p-4">
    <h1 class="text-3xl font-semibold text-gray-800 dark:text-white mb-6">Quản lý phòng ban: {{ department.name }}</h1>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
        <div>
            <h2 class="text-2xl font-semibold text-gray-800 dark:text-white mb-4">Tài liệu</h2>
            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-4">
                <ul>
                    {% for doc in documents %}
                        <li class="border-b border-gray-200 dark:border-gray-700 py-2 flex justify-between items-center">
                            <span class="text-black dark:text-white">{{ doc.title }}</span>
                            <div>
                                <a href="{% url 'manage_document' doc.id %}" class="text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-600 mr-2">Chỉnh sửa</a>
                                <a href="{% url 'delete_managed_document' doc.id %}" class="text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-600">Xóa</a>
                            </div>
                        </li>
                    {% empty %}
                        <li class="py-2 text-black dark:text-white">Chưa có tài liệu nào tải lên</li>
                    {% endfor %}
                </ul>
            </div>
        </div>
        <div>
            <h2 class="text-2xl font-semibold text-gray-800 dark:text-white mb-4">Nhân viên</h2>
            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-4">
                <ul>
                    {% for employee in employees %}
                        <li class="border-b border-gray-200 dark:border-gray-700 py-2 flex justify-between items-center">
                            <span class="text-black dark:text-white">{{ employee.username }}</span>
                            <div>
                                <a href="{% url 'manage_employee' employee.id %}" class="text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-600 mr-2">Chỉnh sửa</a>
                                <a href="{% url 'delete_employee' employee.id %}" class="text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-600">Xóa</a>
                            </div>
                        </li>
                    {% empty %}
                        <li class="py-2 text-black dark:text-white">Chưa có nhân viên nào</li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>

    <div class="mt-8">
        <h2 class="text-2xl font-semibold text-gray-800 dark:text-white mb-4">Phê duyệt đang chờ xử lý</h2>
        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-4">
            {% if pending_users %}
                <ul>
                    {% for profile in pending_users %}
                        <li class="border-b border-gray-200 dark:border-gray-700 py-2 flex justify-between items-center">
                            <span class="text-black dark:text-white">{{ profile.user.username }}</span>
                            <div>
                                <a href="{% url 'approve_user' profile.user.id %}" class="text-green-500 hover:text-green-700 dark:text-green-400 dark:hover:text-green-600 mr-2">Phê duyệt</a>
                                <a href="{% url 'reject_user' profile.user.id %}" class="text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-600">Từ chối</a>
                            </div>
                        </li>
                    {% endfor %}
                </ul>
            {% else %}
                <p class="text-gray-500 dark:text-gray-300">Không có phê duyệt nào đang chờ xử lý.</p>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
